Spring Securtiy中的角色和权限
![[附件/Pasted image 20220916164955.png]]GrantedAuthority 对象代表的就是一种权限对象，而一个 UserDetails 对象具备 1 个或多个 GrantedAuthority 对象。通过这种关联关系可以对用户的权限进行限制
这里将引入 SpEL （Spring Expression Language）表达式，它是 Spring 框架提供的一种动态表达式语言。基于 SpEL，只要该表达式的返回值是 true，那么 access()方法允许用户访问。例如下面的代码。

``` java
http.authorizeRequests().anyRequest().access("hasAuthority('CREATE')");
```

上述代码与使用 hasAuthority()方法的实现效果是完全一致的，但如果是更为复杂的场景，那么 access()方法的优势很明显。人们可以灵活创建一个表达式，然后通过 access()方法确定最后的结果，代码如下所示。

``` java
String expression = "hasAuthority('CREATE') and !hasAuthority('RETRIEVE')"; 

http.authorizeRequests().anyRequest().access(expression);
```